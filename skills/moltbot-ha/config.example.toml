# moltbot-ha Configuration File
# Copy to ~/.config/moltbot-ha/config.toml and customize

[server]
# Home Assistant URL (required)
# Examples:
#   - Local: http://192.168.1.100:8123
#   - mDNS: http://homeassistant.local:8123
#   - Tailscale: http://homeassistant.ts.net:8123
#   - Nabu Casa: https://xxxxx.ui.nabu.casa
url = "http://homeassistant.local:8123"

# Long-lived access token (required)
# Prefer setting via HA_TOKEN environment variable for security.
# To create: HA → Profile → Long-Lived Access Tokens → Create Token
# token = "eyJ..."

[safety]
# Safety level (0-3):
#   0 = No safety checks (dangerous!)
#   1 = Log actions only
#   2 = Confirm all write operations
#   3 = Confirm critical operations (lock, alarm, cover) [RECOMMENDED]
level = 3

# Domains that always require confirmation (level 3)
# Add or remove based on your risk tolerance
critical_domains = [
    "lock",                # Door locks
    "alarm_control_panel", # Security alarms
    "cover",              # Garage doors, blinds
]

# Entities that are ALWAYS blocked (even with --force)
# Use this for dangerous devices you never want automated
blocked_entities = [
    # Example: "switch.main_breaker"
]

# Allowed entities (optional allowlist)
# If set, ONLY these entities are accessible (wildcard * supported)
# If empty, all entities except blocked_entities are allowed
allowed_entities = []
# Examples:
#   ["light.*", "switch.office_*", "scene.*"]

[logging]
# Enable action logging
enabled = true

# Log file path (expandable with ~)
path = "~/.config/moltbot-ha/actions.log"

# Log level: DEBUG, INFO, WARNING, ERROR
level = "INFO"
